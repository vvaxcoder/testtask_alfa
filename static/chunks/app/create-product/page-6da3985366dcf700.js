(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{79:(e,s,t)=>{"use strict";t.d(s,{K:()=>r});let r=(0,t(5453).v)(e=>({products:[],favorites:new Set,fetchProducts:async()=>{let s=await fetch("https://fakestoreapi.com/products"),t=await s.json();e(e=>({products:0===e.products.length?e.products=t:e.products}))},toggleFavorite:s=>e(e=>{let t=new Set(e.favorites);return t.has(s)?t.delete(s):t.add(s),{favorites:t}}),removeProduct:s=>e(e=>({products:e.products.filter(e=>e.id!==s)})),addProduct:s=>e(e=>({products:[...e.products,{...s,id:Date.now()}]}))}))},1627:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(5155),l=t(2115),a=t(7470),i=t(662),d=t(2294),c=t(642),n=t(2320),o=t(2555),u=t(5695);t(9911);var h=t(79);t(6972);let m=e=>{let{form:s,children:t}=e,[d,c]=l.useState(!1),n=a.A.useWatch([],s);return l.useEffect(()=>{s.validateFields({validateOnly:!0}).then(()=>{c(!0)}).catch(()=>c(!1))},[s,n]),(0,r.jsx)(i.Ay,{type:"primary",htmlType:"submit",disabled:!d,children:t})};function p(){let{addProduct:e}=(0,h.K)(),s=(0,u.useRouter)(),[t]=a.A.useForm(),[p,j]=(0,l.useState)(!1);return(0,r.jsxs)("div",{style:{padding:20},children:[(0,r.jsx)(i.Ay,{onClick:()=>s.push("/products"),style:{marginBottom:20},children:"Назад к списку"}),(0,r.jsx)("div",{className:"form-wrapper flex w-full justify-center align-center",children:(0,r.jsxs)(a.A,{id:"create-form",form:t,layout:"vertical",onFinish:s=>{console.log(s),e(s),j(!0),t.resetFields()},children:[(0,r.jsx)(a.A.Item,{name:"title",label:"Название",rules:[{required:!0,message:"Введите название продукта"}],children:(0,r.jsx)(d.A,{})}),(0,r.jsx)(a.A.Item,{name:"price",label:"Цена",rules:[{required:!0,message:"Введите цену продукта"}],children:(0,r.jsx)(c.A,{})}),(0,r.jsx)(a.A.Item,{name:"description",label:"Описание",rules:[{required:!0,message:"Введите описание продукта"}],children:(0,r.jsx)(d.A,{})}),(0,r.jsx)(a.A.Item,{name:"image",label:"Ссылка на изображение",rules:[{required:!0,message:"Введите изображение продукта"}],children:(0,r.jsx)(d.A,{})}),(0,r.jsx)(a.A.Item,{name:"category",label:"Категория",children:(0,r.jsx)(d.A,{placeholder:"Необязательно"})}),(0,r.jsx)(a.A.Item,{name:"rating",label:"Рейтинг",children:(0,r.jsx)(d.A,{placeholder:"Необязательно"})}),(0,r.jsx)(a.A.Item,{children:(0,r.jsx)(n.A,{children:(0,r.jsx)(m,{form:t,children:"Добавить продукт"})})})]})}),(0,r.jsx)(o.A,{title:"Basic Modal",open:p,onOk:()=>{j(!1)},onCancel:()=>{j(!1)},children:(0,r.jsx)("p",{children:"Товар успешно добавлен."})})]})}},6972:()=>{},9383:(e,s,t)=>{Promise.resolve().then(t.bind(t,1627))}},e=>{var s=s=>e(e.s=s);e.O(0,[282,915,901,796,441,684,358],()=>s(9383)),_N_E=e.O()}]);